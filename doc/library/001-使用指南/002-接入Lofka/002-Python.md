# Lofka for Python

## Introduction

（很抱歉，当时输入法崩掉了，就干脆写成英语的了，等有空翻译回来）

If you wanna to push your logs generated by a Python program, you may install this module after setup your lofka system appropriately.

## Setup

Change dir to lofka-python-utils, and run command

```bash
sudo python setup.py install
# if you're using python3
sudo python3 setup.py install
```

## Quick Start
Import lofka handler and add it to your logger:

```python
from lofka import LofkaHandler
import logging

handler = LofkaHandler()
logger = logging.getLogger('test')
logger.addHandler(handler)
```

## Details
More details will described below.

### Setting of LofkaHandler
Setting LofkaHandler by creating a json file which named:`lofka.json` in your workdir.
```json
{
  "target_url": "http://logger.example.com/lofka/service/push",
  "app_name": "test"
}
```

Setting the target to push logs by the field `target_url` and the application name by field `app_name`.

Or you can set these parameters while initializing LofkaHandler:

```python
handler = LofkaHandler(target_url='http://logger.example.com/lofka/service/push', app_name="test")
```

The priority of LofkaHandler setting will load:
1. `lofka.json` in current workdir
2. parameters inputted while loading LofkaHandler
3. default parameters
